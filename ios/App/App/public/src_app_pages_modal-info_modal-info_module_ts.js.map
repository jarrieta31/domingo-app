{"version":3,"file":"src_app_pages_modal-info_modal-info_module_ts.js","mappings":"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","sources":["./src/app/pages/modal-info/modal-info-routing.module.ts","./src/app/pages/modal-info/modal-info.module.ts","./src/app/pages/modal-info/modal-info.page.ts","./src/app/pages/modal-info/modal-info.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ModalInfoPage } from './modal-info.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ModalInfoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ModalInfoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModalInfoPageRoutingModule } from './modal-info-routing.module';\n\nimport { ModalInfoPage } from './modal-info.page';\nimport { ComponentsModule } from 'src/app/components/components.module';\n// Import ionic-rating module\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ModalInfoPageRoutingModule,\n    ComponentsModule,\n  ],\n  declarations: [ModalInfoPage]\n})\nexport class ModalInfoPageModule {}\n","import {\n  Component,\n  OnInit,\n  OnDestroy,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n} from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { CallNumber } from '@awesome-cordova-plugins/call-number/ngx';\nimport { Subject } from \"rxjs\";\nimport { PlaceService } from \"src/app/services/database/place.service\";\nimport { takeUntil } from \"rxjs/operators\";\nimport { Place } from \"src/app/shared/place\";\nimport { Browser } from '@capacitor/browser';\n\n@Component({\n  selector: \"app-modal-info\",\n  templateUrl: \"./modal-info.page.html\",\n  styleUrls: [\"./modal-info.page.scss\"],\n})\nexport class ModalInfoPage implements OnInit, OnDestroy {\n  private unsubscribe$ = new Subject<void>();\n\n  descripcionText: string;\n  place: Place = null;\n  telefonos: string[] = [];\n  @ViewChild(\"descripcion\", { static: true }) descripcionHtml: ElementRef;\n\n  constructor(\n    private callNumber: CallNumber,\n    private placeSvc: PlaceService\n  ) {}\n\n  ngOnInit() {\n    this.placeSvc.place_selected\n      .pipe(takeUntil(this.unsubscribe$))\n      .subscribe((res) => {\n        this.place = res;\n        this.place.telefonos.forEach((tel: string) => {\n          if (\n            tel[\"numero\"] !== null &&\n            tel[\"numero\"] !== undefined &&\n            tel[\"numero\"] !== \"\" &&\n            tel[\"numero\"] !== \" \"\n          ) {\n            this.telefonos.push(tel[\"numero\"]);\n          }\n        });\n      });\n\n    if (\n      this.place.web === null ||\n      this.place.web === undefined ||\n      this.place.web === \"\" ||\n      this.place.web === \" \"\n    ) {\n      let elem: HTMLElement = document.getElementById(\"web\");\n      elem.setAttribute(\"style\", \"display:none\");\n    }\n\n    if (\n      this.place.facebook == null ||\n      this.place.facebook === undefined ||\n      this.place.facebook === \"\" ||\n      this.place.facebook === \" \"\n    ) {\n      let elem: HTMLElement = document.getElementById(\"facebook\");\n      elem.setAttribute(\"style\", \"display:none\");\n    }\n\n    if (\n      this.place.instagram == null ||\n      this.place.instagram === undefined ||\n      this.place.instagram === \"\" ||\n      this.place.instagram === \" \"\n    ) {\n      let elem: HTMLElement = document.getElementById(\"instagram\");\n      elem.setAttribute(\"style\", \"display:none\");\n    }\n\n    if (\n      this.place.whatsapp === null ||\n      this.place.whatsapp === undefined ||\n      this.place.whatsapp === \"\" ||\n      this.place.whatsapp === \" \"\n    ) {\n      let elem: HTMLElement = document.getElementById(\"whatsapp\");\n      elem.setAttribute(\"style\", \"display:none\");\n    }\n\n    if (this.telefonos.length === 0) {\n      let elem: HTMLElement = document.getElementById(\"phone\");\n      elem.setAttribute(\"style\", \"display:none\");\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.descripcionText = this.descripcionHtml.nativeElement.innerText;\n  }\n\n  ngOnDestroy(): void {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n\n  callPhone() {\n    this.callNumber\n      .callNumber(this.telefonos[0], true)\n      .then((res) => console.log(\"Llamando!\", res))\n      .catch((err) => console.log(\"Error en llamada\", err));\n  }\n\n  openWeb() {\n    Browser.open({url: this.place.web});\n  }\n\n  openFacebook() {\n    Browser.open({url: this.place.facebook});\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"options\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button\\n        defaultHref=\\\"places/{{place.id}}\\\"\\n        color=\\\"back\\\"\\n      ></ion-back-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"back\\\"> {{ place.nombre }} </ion-title>\\n  </ion-toolbar>\\n  <!-- Botones de reproduccion Text To Speech -->\\n  <app-text-to-speech [texto]=\\\"descripcionText\\\"></app-text-to-speech> \\n</ion-header>\\n<ion-content>\\n  <ion-text>\\n    <br>\\n    <div #descripcion class=\\\"texto\\\" [innerHTML]=\\\"place.descripcion\\\"></div>\\n  </ion-text>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col id=\\\"web\\\">\\n        <div class=\\\"ion-text-center\\\">\\n          <div class=\\\"circulo_red\\\">\\n            <div (click)=\\\"openWeb()\\\">\\n              <ion-icon name=\\\"globe-outline\\\"></ion-icon>\\n            </div>\\n          </div>\\n        </div>\\n      </ion-col>\\n      <ion-col id=\\\"facebook\\\">\\n        <div class=\\\"ion-text-center\\\">\\n          <div class=\\\"circulo_red\\\">\\n            <div (click)=\\\"openFacebook()\\\">\\n              <ion-icon class=\\\"icon-fb\\\" name=\\\"logo-facebook\\\"></ion-icon>\\n            </div>\\n          </div>\\n        </div>\\n      </ion-col>\\n      <ion-col id=\\\"instagram\\\">\\n        <div class=\\\"ion-text-center\\\">\\n          <div class=\\\"circulo_red\\\">\\n            <a href=\\\"{{ place.instagram }}\\\"\\n              ><ion-icon name=\\\"logo-instagram\\\"></ion-icon\\n            ></a>\\n          </div>\\n        </div>\\n      </ion-col>\\n      <ion-col id=\\\"whatsapp\\\">\\n        <div class=\\\"ion-text-center\\\">\\n          <div class=\\\"circulo_red_wpp\\\">\\n            <a href=\\\"{{ place.whatsapp }}\\\"\\n              ><ion-icon name=\\\"logo-whatsapp\\\"></ion-icon\\n            ></a>\\n          </div>\\n        </div>\\n      </ion-col>\\n      <ion-col id=\\\"phone\\\">\\n        <div class=\\\"ion-text-center\\\">\\n          <div class=\\\"circulo_red\\\" (click)=\\\"callPhone()\\\">\\n            <ion-icon name=\\\"call-outline\\\"></ion-icon>\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";"],"names":[],"sourceRoot":"webpack:///"}